# 存活变量分析

## 1.定义
`变量V在程序点P被使用且使用前没有被重新定义，则变量V是存活变量`

### 1.1 重点
* 程序点P被使用
* 程序点P前没有被重新定义

### 1.2 例子
```c
1. int a = 1;
2. int b = 2;
3. int c = 3;
4 .int d = a + b;
5. b = d;
6. c = a;
7. ...
```

### 1.3 解析：
```text
上面例子从后向前：
    在6点处前a必须存活，存活变量：{a}
        a被6点处使用
    在5点处前d和a必须存活，且b不用存活，存活变量：{a, d}
        a被6点处使用
        d被5点处使用
        b在5点处被重新赋值，所以寄存器中不用保存5点处前b这个变量
    在4点处前a和b必须存活，存活变量：{a, b}
        a被6点处使用
        b被4点处使用
        d在4点处被重新赋值，所以寄存器不需要保存4点处前d的值，
    ......
```

## 2.存活变量的几种情况
```c
已有变量v
```

* 变量v没有用到：
  * k = n;
* 变量v仅被使用：
  * k = v;
* 变量v被赋值：
  * v = 3;
* 变量v先被使用在被赋值：两种情况
  * v = v + 1;
  * k = v; v = 2;
* 变量v先赋值后使用
  * v = 3; k = v;
